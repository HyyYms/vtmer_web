<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.vtmer.mapper.LogMapper">

    <resultMap id="BaseResultMap" type="com.vtmer.domain.Log">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Aug 13 21:31:20 CST 2019.
        -->
        <result column="id" jdbcType="INTEGER" property="id"/>
        <result column="admi_id" jdbcType="INTEGER" property="admiId"/>
        <result column="opreational_time" jdbcType="DATE" property="opreationalTime"/>
        <result column="operational_content" jdbcType="LONGVARCHAR" property="operationalContent"/>
    </resultMap>

    <!-- 添加操作记录 -->
    <insert id="insert" parameterType="com.vtmer.domain.Log">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Aug 13 21:31:20 CST 2019.
        -->
        insert into log (admi_id, opreational_time,
        operational_content)
        values (#{admiId,jdbcType=INTEGER}, #{opreationalTime,jdbcType=DATE},
        #{operationalContent,jdbcType=LONGVARCHAR})
    </insert>

    <!-- 查询所有操作记录 -->
    <select id="selectAll" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Aug 13 21:31:20 CST 2019.
        -->
        select id, admi_id, opreational_time, operational_content
        from log
    </select>

    <!-- 根据管理员id查看操作记录 -->
    <select id="selectLogByAdmiId" resultMap="BaseResultMap" parameterType="java.lang.Integer">
        select * from interview where admi_id = #{admiId}
    </select>

</mapper>